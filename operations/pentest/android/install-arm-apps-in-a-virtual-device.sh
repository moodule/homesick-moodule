#!/bin/bash

TARGET=com.getpure.pure

# GENYMOTION
# Enable arm translation

# Download the arm translation module
# https://github.com/m9rco/Genymotion_ARM_Translation

# Push the translation package
adb push Genymotion-ARM-Translation_for_X.X.zip /storage/sdcard/Download/

# Install
adb shell "sh /system/bin/flash-archive.sh /storage/sdcard/Download/Genymotion-ARM-Translation_for_X.X.zip"

# Reboot
adb reboot

# ANDROID STUDIO
# Create an AVD with android 11, which supports ARM

# Either:
#   Install for the play store (if available...)
#   Or extract the apk from another device

# Find the app package
adb shell pm list packages -f -3
adb shell pm path "$TARGET"

# Extract the apk
adb pull $(adb shell pm path "$TARGET" | awk -F':' '{print $2}')

# Install the apk
adb install base.apk
